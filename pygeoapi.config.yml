server:
  bind:
    host: localhost #change to your hostname if running your own instance
    port: 5005
  url: ${PYGEOAPI_URL:-http://localhost:5005} #change to host URL  if running your own instance
  mimetype: application/json; charset=UTF-8
  encoding: utf-8
  gzip: true
  language: en-US
  cors: true
  pretty_print: true
  # admin: true
  icon: https://www.asu.edu/themes/custom/asu_edu/favicon.ico
  logo: https://awo-ui.netlify.app/ASU-logo.png
  templates:
    path: /opt/pygeoapi/pygeoapi-deployment/templates
  limits:
    default_items: 500
    max_items: 10000
  map:
    url: https://tile.openstreetmap.org/{z}/{x}/{y}.png
    attribution: '<a href="https://www.openstreetmap.org/copyright">Â© OpenStreetMap contributors</a>'

  manager:
    name: PostgreSQL
    output_dir: ${PYGEOAPI_JOB_RESULT_DIR:-"/tmp/"}
    connection:
      host: ${TF_VAR_POSTGRES_HOST:-localhost}
      port: 5432
      database: ${TF_VAR_POSTGRES_DB}
      user: ${TF_VAR_POSTGRES_USER:-postgres}
      password: ${TF_VAR_POSTGRES_PASSWORD:-password}
      
logging:
  level: ${PYGEOAPI_LOGLEVEL:-WARNING}
  # logfile: /tmp/pygeoapi.log

metadata:
  identification:
    title: Arizona Water Observatory
    description: |
      The Arizona Water Observatory (AWO) provides water
      quality and water supply information for Arizona's
      water resources.
    keywords:
      - awo
    keywords_type: theme
    terms_of_service: https://opensource.org/license/MIT
    url: https://github.com/cgs-earth/ArizonaWaterObservatory
  license:
    name: MIT License
    url: https://opensource.org/license/MIT
  provider:
    name: Internet of Water
    url: https://github.com/cgs-earth/ArizonaWaterObservatory
  contact:
    address: 113 Brattle St
    city: Cambridge
    stateorprovince: Massachussetts
    postalcode: 02138
    country: USA
    email: internetofwater@lincolninst.edu
    url: https://cgsearth.org
    role: pointOfContact
    name: Colton Loftus

resources:

  National_Water_Model_Channel_Routing_Output:
    type: collection
    title: National Water Model Channel Routing Output
    # https://hdsc.nws.noaa.gov/pub/hdsc/data/papers/articles/HRL_Pubs_PDF_May12_2009/HRL_PUBS_201-250/206_CHANNEL_ROUTING,_HYDROLOGICAL_FORECASTING.pdf
    description: contains simulated flow and channel-related variables for river and stream segments, representing the movement of water through the channel network.
    keywords: ["NWM"]
    provider-name:  
      - NOAA
    links:
      - type: application/html
        rel: methodology
        title: Methodology
        href: https://hdsc.nws.noaa.gov/pub/hdsc/data/papers/articles/HRL_Pubs_PDF_May12_2009/HRL_PUBS_201-250/206_CHANNEL_ROUTING,_HYDROLOGICAL_FORECASTING.pdf
      - type: application/html
        rel: canonical 
        title: Data source
        href: https://noaa-nwm-retrospective-3-0-pds.s3.amazonaws.com/index.html#CONUS/zarr/chrtout.zarr/
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://registry.opendata.aws/nwm-archive/
    extents:  &nwm-extents
      spatial:
        bbox: [-170, 15, -51, 72]
        crs: http://www.opengis.net/def/crs/OGC/1.3/CRS84
      temporal:
        begin: 1979-02-01T00:00:00Z
        end: 2023-02-01T00:00:00Z
        trs: http://www.opengis.net/def/uom/ISO-8601/0/Gregorian 
    providers:
      - &nwm-feature
        type: feature
        name: NationalWaterModel.FeatureProvider
        data: https://noaa-nwm-retrospective-3-0-pds.s3.amazonaws.com
        remote_dataset: CONUS/zarr/chrtout.zarr/
        x_field: longitude
        y_field: latitude
        time_field: time
        title_field: id
      - &nwm-edr
        type: edr
        name: NationalWaterModel.EDRProvider
        data: https://noaa-nwm-retrospective-3-0-pds.s3.amazonaws.com
        remote_dataset: CONUS/zarr/chrtout.zarr/
        x_field: longitude
        y_field: latitude
        time_field: time

  National_Water_Model_Land_Data_Assimilation_System_Output:
    type: collection
    title: National Water Model Land Data Assimilation System Output
    description: aims to produce high quality fields of land surface states and fluxes by integrating satellite and ground-based observational data products
    keywords: ["NWM"]
    provider-name:  
      - NOAA
    extents: *nwm-extents
    links:
      - type: application/html
        rel: canonical 
        title: Data source
        href: https://noaa-nwm-retrospective-3-0-pds.s3.amazonaws.com/index.html#CONUS/zarr/ldasout.zarr/
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://registry.opendata.aws/nwm-archive/
    providers:
      - &nwm-raster-edr
        <<: *nwm-edr
        name: NationalWaterModel.RasterEDRProvider
        remote_dataset: CONUS/zarr/ldasout.zarr
        x_field: "x"
        y_field: "y"

  National_Water_Data_Reach_to_Reach_Routing_Output:
    type: collection
    title: National Water Model Reach to Reach Routing Output
    description: provides simulated streamflow and related hydrologic variables for millions of individual river and stream reaches across the U.S., representing how water is routed downstream through the national river network.
    keywords: ["NWM"]
    provider-name:  
      - NOAA
    extents: *nwm-extents
    links:
      - type: application/html
        rel: canonical 
        title: Data source
        href: https://noaa-nwm-retrospective-3-0-pds.s3.amazonaws.com/index.html#CONUS/zarr/rtout.zarr/
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://registry.opendata.aws/nwm-archive/
    providers:
      - <<: *nwm-raster-edr
        remote_dataset: CONUS/zarr/rtout.zarr

  National_Water_Model_Lakeout:
    type: collection
    title: National Water Model Lake Output
    description: provides simulated water levels, storage, and outflows for lakes and reservoirs across the U.S. It delivers time-series data that supports monitoring, forecasting, and management of lake and reservoir conditions within the hydrologic network.
    keywords: ["NWM"]
    extents: *nwm-extents
    links:
      - type: application/html
        rel: canonical 
        title: Data source
        href: https://noaa-nwm-retrospective-3-0-pds.s3.amazonaws.com/index.html#CONUS/zarr/lakeout.zarr/
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://registry.opendata.aws/nwm-archive/
    providers:
      - <<: *nwm-feature
        remote_dataset: CONUS/zarr/lakeout.zarr
      - <<: *nwm-edr
        remote_dataset: CONUS/zarr/lakeout.zarr
  
  ## This is currently commented out since it relies on adding extra geometry metadata; currently it has no geometry
  National_Water_Model_Groundwater_Output:
    type: collection
    title: National Water Model Groundwater Output
    # the original dataset has no geometry, the description describes how the geometry was added
    # the etl for this is coming from the `NationalWaterModelETLGroundwater` folder in packages/
    description: provides data on the flux of water that moves from the modeled groundwater system into the surface water system or out of the groundwater storage component. The geometry for each item is the centroid of the associated NHD Plus catchment. 
    keywords: ["NWM"]
    extents:
      spatial:
        bbox: [-114.81651, 31.332177, -109.045223, 37.00426]
        crs: http://www.opengis.net/def/crs/OGC/1.3/CRS84
      temporal:
        begin: 1979-02-01T00:00:00Z
        end: 2023-02-01T00:00:00Z
        trs: http://www.opengis.net/def/uom/ISO-8601/0/Gregorian 
    providers:
      - type: feature
        name: NationalWaterModel.FeatureProvider
        is_gcs: true 
        data: asu-awo
        remote_dataset: asu-awo-data/filtered_gwout_with_geometry.zarr
        x_field: centroid_lon
        y_field: centroid_lat
        wkb_field: geometry_wkb
        time_field: time
      - type: edr
        name: NationalWaterModel.EDRProvider
        is_gcs: true 
        data: asu-awo
        remote_dataset: asu-awo-data/filtered_gwout_with_geometry.zarr
        x_field: centroid_lon
        y_field: centroid_lat
        wkb_field: geometry_wkb
        time_field: time
  
  #### This is currently commented out since it is duplicated info from the postgis pgedr provider for arizona groundwater data
  # ADWR_GWSI_Sites:
  #   type: collection
  #   title: Arizona Department of Water Resources Groundwater Storage Index
  #   description: contains well sites including the state well registration number of the well and metadata about its creation
  #   keywords: ["sites"]
  #   provider-name:  
  #     - Arizona Department of Water Resources
  #   links:
  #     - type: application/html
  #       rel: canonical
  #       title: data source
  #       hreflang: en-U
  #       href: https://services.arcgis.com/C34zQ7veRS0V1t04/ArcGIS/rest/services/GWSI_Layers/FeatureServer/7
  #   extents: 
  #     spatial:
  #       bbox: [-170, 15, -51, 72]
  #       crs: http://www.opengis.net/def/crs/OGC/1.3/CRS84
  #   providers:
  #       - data: https://services.arcgis.com/C34zQ7veRS0V1t04/ArcGIS/rest/services/GWSI_Layers/FeatureServer/7
  #         type: feature
  #         name: ESRI
  #         id_field: OBJECTID
  #         time_field: LASTWLDATE

  usace-edr:
    type: collection
    title: US Army Corps of Engineers Access2Water API
    description: provides a subset of the USACE Corps Water Management System (CWMS) API specifically focused on water control management data
    provider-name:  
      - US Army Corps of Engineers
    links:
      - type: application/html
        rel: canonical 
        title: Data source
        href: https://cwms-data.usace.army.mil/cwms-data/swagger-ui.html
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://water.usace.army.mil/
    extents: 
      spatial:
        bbox: [-170, 15, -51, 72]
        crs: http://www.opengis.net/def/crs/OGC/1.3/CRS84
    keywords:
      - open data
    providers:
      - &default-feature
        type: feature
        name: usace.usace.USACEProvider
        data: https://water.usace.army.mil/
        entity: Observation
        title_field: name
      - &default-edr
        type: edr
        name: usace.usace_edr.USACEEDRProvider
        data: https://water.usace.army.mil/

  snotel-edr:
    type: collection
    title: Snowpack Telemetry Network (SNOTEL)
    # https://snow.nasa.gov/data/snotel-data
    description: is an automated system of snowpack and related climate sensors primarily in mountainous regions in the Western United States which aims to collect data like snow water equivalent, accumulated precipitation, and air temperature. 
    provider-name:
      - US Department of Agriculture
    keywords:
      - EDR
      - SNOTEL
      - NRCS
      - USDA
    links:
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://www.nrcs.usda.gov/wps/portal/wcc/home/aboutUs/monitoringPrograms/automatedSnowMonitoring/
        hreflang: en-US
      - type: application/html
        rel: canonical
        title: Data source
        href: https://wcc.sc.egov.usda.gov/awdbRestApi/swagger-ui/index.html
        hreflang: en-US
    extents:
      spatial:
        bbox: [-164.92472, 32.92342, -103.78758, 70.28062]
        crs: http://www.opengis.net/def/crs/OGC/1.3/CRS84
    providers:
      - <<: *default-edr
        name: snotel.snotel_edr.SnotelEDRProvider
        data: https://wcc.sc.egov.usda.gov/
      - <<: *default-feature
        name: snotel.snotel.SnotelProvider
        data: https://wcc.sc.egov.usda.gov/

  # usgs-sta:
  #   type: collection
  #   title: United States Geological Survey Streamgages
  #   description: measures real-time streamflow (discharge), water levels, and other hydrologic data in rivers and streams across the United States.
  #   provider-name:
  #     - USGS
  #   keywords:
  #     - EDR
  #     - SensorThings
  #     - USGS
  #   links:
  #     - type: application/html
  #       rel: documentation
  #       title: Documentation
  #       href: https://labs.waterdata.usgs.gov/
  #       hreflang: en-US
  #     - type: application/html
  #       rel: canonical
  #       title: Data source
  #       href: https://labs.waterdata.usgs.gov/sta/v1.1/
  #   extents: &default-extent
  #     spatial:
  #       bbox: [-170, 15, -51, 72]
  #       crs: http://www.opengis.net/def/crs/OGC/1.3/CRS84
  #   providers:
  #     - type: edr
  #       name: SensorThingsEDR
  #       data: https://labs.waterdata.usgs.gov/sta/v1.1/
  #     - type: feature
  #       name: SensorThings
  #       data: https://labs.waterdata.usgs.gov/sta/v1.1/
  #       entity: Things
  #       title_field: name

  awdb-forecasts-edr:
    type: collection
    title: Air and Water Database (AWDB) Forecasts
    description: provides predictions for climate and water supply conditions. It uses the same endpoint as SNOTEL but includes only forecasts
    keywords:
      - EDR
      - AWDB
      - USDA
    provider-name:
      - US Department of Agriculture
    extents: &default-extent
      spatial:
        bbox: [-164.92472, 32.92342, -103.78758, 70.28062]
        crs: http://www.opengis.net/def/crs/OGC/1.3/CRS84
    links:
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://www.nrcs.usda.gov/wps/portal/wcc/home/aboutUs/monitoringPrograms/automatedSnowMonitoring/
        hreflang: en-US
      - type: application/html
        rel: canonical
        title: Data source
        href: https://wcc.sc.egov.usda.gov/awdbRestApi/swagger-ui/index.html
        hreflang: en-US
    providers:
      - type: edr
        name: awdb_forecasts.awdb_forecasts_edr.AwdbForecastsEDRProvider
        data: https://wcc.sc.egov.usda.gov/awdbRestApi/v3/api-docs
      - type: feature
        name: awdb_forecasts.awdb_forecasts.AwdbForecastsProvider
        data: https://wcc.sc.egov.usda.gov/awdbRestApi/v3/api-docs
        title_field: name


  noaa-rfc:
    type: collection
    title: River Forecast Center Seasonal Forecasts
    description: aggregates water supply forecast data from all regional NOAA river forecast centers into one collection. 
    provider-name:
      - NOAA
    keywords: [NOAA]
    links:
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://www.cbrfc.noaa.gov/wsup/graph/west/map/esp_map.html
        hreflang: en-US
     # there are multiple canonical dataset sources here since noaa rfc joins data from multiple sources
      - type: application/html
        rel: canonical
        title: California Nevada River Forecast Center Data Source
        href: https://www.cnrfc.noaa.gov/ensembleProduct.php
      - type: application/html
        rel: canonical
        title: Colorado Basin River Forecast Center Data Source
        href: https://www.cbrfc.noaa.gov/lmap/lmap.php
      - type: application/html
        rel: canonical
        title: Northwest River Forecast Center Data Source
        href: https://www.nwrfc.noaa.gov/rfc/
        
    extents: *default-extent
    providers:
      - type: feature
        name: noaa_rfc.noaa_rfc.NOAARFCProvider
        data: https://www.cbrfc.noaa.gov/wsup/graph/west/map/esp_map.html
        title_field: espnam

  usgs-prism:
    type: collection
    title: Parameter-elevation Regressions on Independent Slopes Model (PRISM)
    description: provides a raster for high-resolution spatial climate data, including precipitation, temperature, and other climate variables, derived by combining point-based weather observations with digital elevation and other geographic information.
    provider-name:
      - USGS
    keywords:
      - temperature
      - precipitation
    extents: *default-extent
    links:
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://cida.usgs.gov/thredds/catalog.html?dataset=cida.usgs.gov/prism_v2
      - type: application/html
        rel: canonical
        title: Data source
        href: https://usgs.osn.mghpcc.org/mdmf/gdp/PRISM_v2.zarr
    providers:
      - type: edr
        name: xarray-edr
        data: s3://mdmf/gdp/PRISM_v2.zarr
        format:
          name: zarr
          mimetype: application/zip
        options:
          s3:
            anon: true
            requester_pays: false
            client_kwargs:
              endpoint_url: https://usgs.osn.mghpcc.org


  noaa-river-stage-forecast-day-1: &default-river-stage
    type: collection
    title: NOAA River Stage Forecast Day 1
    description: NOAA River Stage Forecast 24 Hours / 1 day from now
    keywords: [NOAA, riv_gauges]
    provider-name:
      - NOAA
    links: &default-noaa-river-stage-links
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://mapservices.weather.noaa.gov/eventdriven/rest/services/water/riv_gauges/MapServer
      - type: application/html
        rel: canonical
        title: Data source
        href: https://mapservices.weather.noaa.gov/eventdriven/rest/services/water/riv_gauges/MapServer
    extents: *default-extent
    providers:
      - &default-feature-river-stage
        type: feature
        name: ESRI
        data: https://mapservices.weather.noaa.gov/eventdriven/rest/services/water/riv_gauges/MapServer/1
        id_field: objectid
        time_field: fcsttime

  noaa-river-stage-forecast-day-2:
    <<: *default-river-stage
    title: NOAA River Stage Forecast Day 2
    description: predicts the water level (stage) in rivers and streams 2 days from now and is updated every 15-minutes
    links: *default-noaa-river-stage-links
    providers:
      - <<: *default-feature-river-stage
        data: https://mapservices.weather.noaa.gov/eventdriven/rest/services/water/riv_gauges/MapServer/2

  noaa-river-stage-forecast-day-3:
    <<: *default-river-stage
    title: NOAA River Stage Forecast Day 3
    description: predicts the water level (stage) in rivers and streams 3 days from now and is updated every 15-minutes
    links: *default-noaa-river-stage-links
    providers:
      - <<: *default-feature-river-stage
        data: https://mapservices.weather.noaa.gov/eventdriven/rest/services/water/riv_gauges/MapServer/3

  noaa-river-stage-forecast-day-10:
    <<: *default-river-stage
    title: NOAA River Stage Forecast Day 10
    description: predicts the water level (stage) in rivers and streams 10 days from now and is updated every 15-minutes
    links: *default-noaa-river-stage-links
    providers:
      - <<: *default-feature-river-stage
        data: https://mapservices.weather.noaa.gov/eventdriven/rest/services/water/riv_gauges/MapServer/10


  ## This is commented out because it is superceded by the pgedr arizona ground water collection which contains both
  ## the wells 55 data and the azwater.gov timeseries data in the same collection; this is only keppt here for posterity
  # arizona-well-registry:
  #   type: collection
  #   title: Arizona Wells 55 Registry
  #   description: contains Arizona well information such as NOIs to drill, replace, modify, abandon, or deepen, registrations, driller reports, completion reports, change of well information, change of ownership, notice of well capping, and abandonment completion reports. 
  #   keywords: [Arizona]
  #   provider-name:
  #     - Arizona Department of Water Resources
  #   links:
  #     - <<: *default-link
  #       href: https://services.arcgis.com/C34zQ7veRS0V1t04/ArcGIS/rest/services/Well_Registry_2024/FeatureServer/0
  #   extents: *default-extent
  #   providers:
  #     - type: feature
  #       name: ESRI
  #       data: https://services.arcgis.com/C34zQ7veRS0V1t04/ArcGIS/rest/services/Well_Registry_2024/FeatureServer/0
  #       id_field: REGISTRY_ID
  #       time_field: installed

  usgs-national-map/elevation: 
    type: collection
    title: USGS National Map 3D Elevation Program (3DEP)
    description: provides nationwide topographic elevation data, including bare-earth digital elevation models (DEMs) and derivative products such as hillshades, contours, and 3D surface models.
    provider-name:
      - USGS
    keywords: [USGS]
    links:
      - type: application/html
        rel: canonical
        title: Data source
        href: https://elevation.nationalmap.gov/arcgis/rest/services/3DEPElevation/ImageServer
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://www.usgs.gov/3d-elevation-program
      - type: application/html
        rel: map list 
        title: The list of all map services available by the USGS
        href: https://tnmaccess.nationalmap.gov/api/v1/map_services?outputFormat=pJSON
    extents: *default-extent
    providers:
     -  type: map
        name: WMSFacade
        data: https://elevation.nationalmap.gov/arcgis/services/3DEPElevation/ImageServer/WMSServer
        options:
          layer: 3DEPElevation
          style: default
          projection: 3857
        format:
          name: png
          mimetype: image/png

  usgs-national-map/land-cover: 
    type: collection
    title: USGS National Map Land Cover
    description: provides a raster for classification of land cover types across the Contiguous United States (CONUS), including forests, wetlands, urban areas, agricultural lands, and water bodies. It is derived from satellite imagery and other remote sensing data
    provider-name:
      - USGS
    keywords: [USGS]
    links:
      - type: application/html
        rel: canonical
        title: Data source
        href: https://www.mrlc.gov/geoserver/NLCD_Land_Cover/wms
      - type: application/html
        rel: documentation
        title: Documentation
        href: https://www.usgs.gov/centers/eros/science/national-land-cover-database
      - type: application/html
        rel: map list 
        title: List of all map services available by the USGS
        href: https://tnmaccess.nationalmap.gov/api/v1/map_services?outputFormat=pJSON
    extents: *default-extent
    providers:
      - type: map
        name: WMSFacade
        data: https://www.mrlc.gov/geoserver/NLCD_Land_Cover/wms
        options:
          layer: CONUS_Land_Cover
          style: default
          projection: 3857
        format:
          name: png
          mimetype: image/png
        
  ArizonaWaterWells:
    type: collection
    title: Arizona Department of Water Resources Groundwater Site Inventory
    description: consists of field-verified data regarding wells and springs collected by personnel from the Hydrology Division's Basic Data Section, the U.S. Geological Survey and other co-operating agencies. This collection contains additional info joined from the Arizona Wells 55 Registry to enrich well metadata.
    provider-name:
      - Arizona Department of Water Resources
    links:
      - type: application/html
        rel: canonical
        title: Wells 55 Registry Data Source
        href: https://services.arcgis.com/C34zQ7veRS0V1t04/ArcGIS/rest/services/Well_Registry_2024/FeatureServer/0
      - type: application/html
        rel: canonical
        title: Groundwater Timeseries Data source
        href: https://www.azwater.gov/sites/default/files/zip/GWSI_ZIP_20251014.zip
      - type: application/html
        rel: documentation
        title: ADWR Interactive Maps and Data Documentation
        href: https://www.azwater.gov/gis-data-and-maps
      - type: application/html
        rel: documentation 
        title: Water Resources Open Data Portal
        href: https://gisdata2016-11-18t150447874z-azwater.opendata.arcgis.com/

    keywords:
      en:
        - example
        - quickstart
    extents:
      spatial:
        bbox: [-180, -90, 180, 90]
        crs: http://www.opengis.net/def/crs/OGC/1.3/CRS84
      #   SELECT 
      #   TO_CHAR(MIN(observation_time AT TIME ZONE 'UTC'), 'YYYY-MM-DD"T"HH24:MI:SS"Z"') AS earliest_observation_utc,
      #   TO_CHAR(MAX(observation_time AT TIME ZONE 'UTC'), 'YYYY-MM-DD"T"HH24:MI:SS"Z"') AS latest_observation_utc
      #   FROM edr_quickstart.observations;
      temporal:
        begin: 1902-03-31T00:00:00Z 
        end: 2025-09-09T06:00:00Z
        trs: http://www.opengis.net/def/uom/ISO-8601/0/Gregorian 
    providers:
      - type: feature
        name: PostgreSQL
        data:
          host: ${TF_VAR_POSTGRES_HOST:-localhost}
          dbname: ${TF_VAR_POSTGRES_DB:-edr}
          user: ${TF_VAR_POSTGRES_USER:-postgres}
          password: ${TF_VAR_POSTGRES_PASSWORD:-password}
          search_path: [edr_quickstart]
        table: locations
        id_field: location_id
        geom_field: geometry

      - type: edr
        name: pgedr.PostgresEDRProvider
        data:
          host: ${TF_VAR_POSTGRES_HOST:-localhost}
          dbname: ${TF_VAR_POSTGRES_DB:-edr}
          user: ${TF_VAR_POSTGRES_USER:-postgres}
          password: ${TF_VAR_POSTGRES_PASSWORD:-password}
          search_path: [edr_quickstart]
        table: observations
    
        edr_fields: # Required EDR Fields
          id_field: observation_id
          location_field: locations.location_id
          geom_field: locations.geometry # Result geometry field
          time_field: observation_time
          result_field: observation_value
          parameter_id: parameters.parameter_id
          parameter_name: parameters.parameter_unit_label
          parameter_unit: parameters.parameter_unit_symbol

        external_tables: # Additional table joins
          locations:
            remote: location_id
            foreign: location_id
          parameters:
            remote: parameter_id
            foreign: parameter_id


  Aquifers_USGS_West:
    type: collection
    title: USGS Principal Aquifers in the Colorado Basin States
    description: contains data from the Ground Water Atlas of the United States (published as part of the National Atlas in 1998, revised 2003) and indicates the areal extent of the uppermost principal aquifers on a national scale.
    provider-name:
      - USGS
    keywords:
      - aquifers
    links:
      - type: application/html
        rel: canonical
        title: USGS Aquifers
        href: https://services3.arcgis.com/0OPQIK59PJJqLK0A/arcgis/rest/services/Aquifers_USGS_West/FeatureServer/0
      - type: application/html
        rel: documentation
        title: Arizona Water Blueprint
        href: https://www.arcgis.com/apps/webappviewer/index.html?id=b84f6d906be94505b25d68d6af3b02ca
      - type: application/html
        rel: documentation
        title: Acgis Layer 
        href: https://www.arcgis.com/home/item.html?id=cf795fe0b23e4afc99728d1b97dd1253
    extents: *default-extent
    providers:
      - type: feature
        name: ESRI
        data: https://services3.arcgis.com/0OPQIK59PJJqLK0A/arcgis/rest/services/Aquifers_USGS_West/FeatureServer/0
        id_field: OBJECTID

  Active_Managment_Areas_2025:
    type: collection
    title: Kyl Center for Water Policy Arizona Water Active Managment Areas
    description: contains designated groundwater-management zones where water withdrawals are under regulatory oversight to address overdraft and ensure long-term sustainability
    provider-name:
      - Kyl Center for Water Policy
    keywords:
      - management
    links:
      - type: application/html
        rel: canonical
        title: Active Managment Areas
        href: https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Active_Managment_Areas_2025/FeatureServer/0
      - type: application/html
        rel: documentation
        title: Arizona Water Blueprint
        href: https://www.arcgis.com/apps/webappviewer/index.html?id=b84f6d906be94505b25d68d6af3b02ca
      - type: application/html
        rel: documentation
        title: Acgis Layer 
        href: https://www.arcgis.com/home/item.html?id=cf795fe0b23e4afc99728d1b97dd1253
    extents: *default-extent
    providers:
      - type: feature
        name: ESRI
        data: https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Active_Managment_Areas_2025/FeatureServer/0
        id_field: OBJECTID

  Arizona_Groundwater_Basins:
    type: collection
    title: Arizona Department of Water Resources Groundwater Basins
    description: contains the list of groundwater basins in Arizona. According to ARS 45-402(13) "Groundwater basin" means an area which, as nearly as known facts permit as determined by the director pursuant to this chapter, may be designated so as to enclose a relatively hydrologically distinct body or related bodies of groundwater, which shall be described horizontally by surface description.
    provider-name:
      - Arizona Department of Water Resources
    keywords:
      - groundwater
    links:
      - type: application/html
        rel: canonical
        title: Groundwater Basins
        href: https://services.arcgis.com/C34zQ7veRS0V1t04/ArcGIS/rest/services/Groundwater_Basin/FeatureServer/0
      - type: application/html
        rel: documentation
        title: Arizona Water Blueprint
        href: https://www.arcgis.com/apps/webappviewer/index.html?id=b84f6d906be94505b25d68d6af3b02ca
    extents: *default-extent
    providers:
      - type: feature
        name: ESRI
        data: https://services.arcgis.com/C34zQ7veRS0V1t04/ArcGIS/rest/services/Groundwater_Basin/FeatureServer/0
        id_field: OBJECTID


  rise-edr:
    type: collection
    title: USBR Reclamation Information Sharing Environment
    description: contains information about USBR projects in the western United States such as dams, reservoirs, and powerplants. 
    provider-name:
      - BOR
      - USBR
    keywords:
      - EDR
      - RISE
      - USBR
    templates:
      path: pygeoapi-deployment/templates/jsonld/rise-edr
    links:
      - type: application/html
        rel: documentation
        title: RISE API Documentation
        href: https://data.usbr.gov/
        hreflang: en-US
      - type: application/html
        rel: canonical
        title: RISE API
        href: https://data.usbr.gov/rise-api
        hreflang: en-US
    extents:
      spatial:
        bbox: [-123.60518, 28.4667, -95.875, 48.8283]
        crs: http://www.opengis.net/def/crs/OGC/1.3/CRS84
    providers:
      - type: edr
        name: rise.rise_edr.RiseEDRProvider
        data: https://data.usbr.gov/
        title_field: name
      - type: feature
        name: rise.rise.RiseProvider
        data: https://data.usbr.gov/
        title_field: name

  config-store:
      type: process
      processor:
          name: config_store.ConfigStoreProcessor


    
